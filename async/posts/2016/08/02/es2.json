{"tags":[{"name":"elasticsearch","permalink":"http://catlittlechen.com/tags/elasticsearch/","url":"/async/tags/elasticsearch.json","count":6},{"name":"学习","permalink":"http://catlittlechen.com/tags/学习/","url":"/async/tags/学习.json","count":7}],"categories":[{"name":"elasticsearch","permalink":"http://catlittlechen.com/categories/elasticsearch/","url":"/async/categories/elasticsearch.json","count":6}],"url":"/async/posts/2016/08/02/es2.json","date":1470139593000,"path":{"year":2016,"month":8,"day":2,"name":"es2"},"title":"elasticsearch系列笔记(二) 集群安装","permalink":"http://catlittlechen.com/2016/08/02/es2/","content":"<h3 id=\"two_es\"><a href=\"#two_es\" class=\"headerlink\" title=\"two es\"></a>two es</h3><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"command\">run</span> -ti <span class=\"comment\">--name es1 elasticsearch /bin/bash</span></span><br><span class=\"line\">docker <span class=\"command\">run</span> -ti <span class=\"comment\">--name es2 elasticsearch /bin/bash</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"config\"><a href=\"#config\" class=\"headerlink\" title=\"config\"></a>config</h3><h4 id=\"in_es1\"><a href=\"#in_es1\" class=\"headerlink\" title=\"in es1\"></a>in es1</h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/elasticsearch/elasticsearch<span class=\"class\">.yml</span></span><br><span class=\"line\">   cluster<span class=\"class\">.name</span>: elasticsearch-cluster-centos</span><br><span class=\"line\">   node<span class=\"class\">.name</span>: <span class=\"string\">\"es-node1\"</span></span><br><span class=\"line\">   bootstrap<span class=\"class\">.mlockall</span>: true</span><br><span class=\"line\">   network<span class=\"class\">.host</span>: <span class=\"number\">172.17</span>.<span class=\"number\">0.2</span></span><br><span class=\"line\">   network<span class=\"class\">.publish_host</span>: <span class=\"number\">172.17</span>.<span class=\"number\">0.2</span></span><br><span class=\"line\">   discovery<span class=\"class\">.zen</span><span class=\"class\">.ping</span><span class=\"class\">.unicast</span><span class=\"class\">.hosts</span>: [<span class=\"string\">\"172.17.0.3\"</span>]</span><br></pre></td></tr></table></figure>\n<h4 id=\"in_es2\"><a href=\"#in_es2\" class=\"headerlink\" title=\"in es2\"></a>in es2</h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cluster<span class=\"class\">.name</span>: elasticsearch-cluster-centos</span><br><span class=\"line\">node<span class=\"class\">.name</span>: <span class=\"string\">\"es-node2\"</span></span><br><span class=\"line\">bootstrap<span class=\"class\">.mlockall</span>: true</span><br><span class=\"line\">network<span class=\"class\">.host</span>: <span class=\"number\">172.17</span>.<span class=\"number\">0.3</span></span><br><span class=\"line\">network<span class=\"class\">.publish_host</span>: <span class=\"number\">172.17</span>.<span class=\"number\">0.3</span></span><br><span class=\"line\">discovery<span class=\"class\">.zen</span><span class=\"class\">.ping</span><span class=\"class\">.unicast</span><span class=\"class\">.hosts</span>: [<span class=\"string\">\"172.17.0.2\"</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"restart\"><a href=\"#restart\" class=\"headerlink\" title=\"restart\"></a>restart</h3><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"regexp\">/etc/i</span>nit.d<span class=\"regexp\">/elasticsearch restart</span></span><br></pre></td></tr></table></figure>\n"}