{"tags":[{"name":"学习","permalink":"http://catlittlechen.com/tags/学习/","url":"/async/tags/学习.json","count":11},{"name":"elasticsearch","permalink":"http://catlittlechen.com/tags/elasticsearch/","url":"/async/tags/elasticsearch.json","count":6}],"categories":[{"name":"elasticsearch","permalink":"http://catlittlechen.com/categories/elasticsearch/","url":"/async/categories/elasticsearch.json","count":6}],"url":"/async/posts/2016/08/02/es2.json","date":1470139593000,"path":{"year":2016,"month":8,"day":2,"name":"es2"},"title":"elasticsearch系列笔记(二) 集群安装","permalink":"http://catlittlechen.com/2016/08/02/es2/","content":"<h3 id=\"two_es\"><a href=\"#two_es\" class=\"headerlink\" title=\"two es\"></a>two es</h3><figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">docker <span class=\"keyword\">run</span><span class=\"bash\"> -ti --name es1 elasticsearch /bin/bash</span></div><div class=\"line\"><span class=\"bash\">docker run -ti --name es2 elasticsearch /bin/bash</span></div></pre></td></tr></table></figure>\n<h3 id=\"config\"><a href=\"#config\" class=\"headerlink\" title=\"config\"></a>config</h3><h4 id=\"in_es1\"><a href=\"#in_es1\" class=\"headerlink\" title=\"in es1\"></a>in es1</h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim /etc/elasticsearch/elasticsearch.yml</div><div class=\"line\">   cluster<span class=\"selector-class\">.name</span>: elasticsearch-cluster-centos</div><div class=\"line\">   node<span class=\"selector-class\">.name</span>: <span class=\"string\">\"es-node1\"</span></div><div class=\"line\">   bootstrap<span class=\"selector-class\">.mlockall</span>: true</div><div class=\"line\">   network<span class=\"selector-class\">.host</span>: <span class=\"number\">172.17</span>.<span class=\"number\">0.2</span></div><div class=\"line\">   network<span class=\"selector-class\">.publish_host</span>: <span class=\"number\">172.17</span>.<span class=\"number\">0.2</span></div><div class=\"line\">   discovery<span class=\"selector-class\">.zen</span><span class=\"selector-class\">.ping</span><span class=\"selector-class\">.unicast</span><span class=\"selector-class\">.hosts</span>: [<span class=\"string\">\"172.17.0.3\"</span>]</div></pre></td></tr></table></figure>\n<h4 id=\"in_es2\"><a href=\"#in_es2\" class=\"headerlink\" title=\"in es2\"></a>in es2</h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">cluster<span class=\"selector-class\">.name</span>: elasticsearch-cluster-centos</div><div class=\"line\">node<span class=\"selector-class\">.name</span>: <span class=\"string\">\"es-node2\"</span></div><div class=\"line\">bootstrap<span class=\"selector-class\">.mlockall</span>: true</div><div class=\"line\">network<span class=\"selector-class\">.host</span>: <span class=\"number\">172.17</span>.<span class=\"number\">0.3</span></div><div class=\"line\">network<span class=\"selector-class\">.publish_host</span>: <span class=\"number\">172.17</span>.<span class=\"number\">0.3</span></div><div class=\"line\">discovery<span class=\"selector-class\">.zen</span><span class=\"selector-class\">.ping</span><span class=\"selector-class\">.unicast</span><span class=\"selector-class\">.hosts</span>: [<span class=\"string\">\"172.17.0.2\"</span>]</div></pre></td></tr></table></figure>\n<h3 id=\"restart\"><a href=\"#restart\" class=\"headerlink\" title=\"restart\"></a>restart</h3><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"regexp\">/etc/i</span>nit.d<span class=\"regexp\">/elasticsearch restart</span></div></pre></td></tr></table></figure>\n"}