{"tags":[{"name":"ganglia","permalink":"http://catlittlechen.com/tags/ganglia/","url":"/async/tags/ganglia.json","count":2},{"name":"踩坑日记","permalink":"http://catlittlechen.com/tags/踩坑日记/","url":"/async/tags/踩坑日记.json","count":10}],"categories":[{"name":"ganglia","permalink":"http://catlittlechen.com/categories/ganglia/","url":"/async/categories/ganglia.json","count":1}],"url":"/async/posts/2017/07/10/ganglia-buffer.json","date":1499684638000,"path":{"year":2017,"month":7,"day":10,"name":"ganglia-buffer"},"title":"ganglia-buffer","permalink":"http://catlittlechen.com/2017/07/10/ganglia-buffer/","content":"<p>最近给服务器的redis-cluster加ganglia监控，但是配置加载之后，ganglia却失控了．面板上面ganglia部分数据无法显示．debug的时候，发现ganglia-monitor可以正常的收集数据，那么问题出在哪里呢？</p>\n<h2 id=\"/etc/ganglia/gmond-conf\"><a href=\"#/etc/ganglia/gmond-conf\" class=\"headerlink\" title=\"/etc/ganglia/gmond.conf\"></a>/etc/ganglia/gmond.conf</h2><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">udp_recv_channel &#123;</span><br><span class=\"line\">    port = 8649</span><br><span class=\"line\">    bind = <span class=\"keyword\">*</span><span class=\"keyword\">*</span><span class=\"keyword\">*</span>.<span class=\"keyword\">*</span><span class=\"keyword\">*</span><span class=\"keyword\">*</span>.<span class=\"keyword\">*</span><span class=\"keyword\">*</span><span class=\"keyword\">*</span>.<span class=\"keyword\">*</span><span class=\"keyword\">*</span><span class=\"keyword\">*</span></span><br><span class=\"line\">    retry_bind = true</span><br><span class=\"line\">    <span class=\"comment\"># Size of the UDP buffer. If you are handling lots of metrics you really # should bump it up to e.g. 10MB or even higher.</span></span><br><span class=\"line\">    buffer = 10485760</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>gmond默认的配置文件里面并没有写上这行配置，所以很多人都会忽略掉．</p>\n<h2 id=\"u7ED3_u679C\"><a href=\"#u7ED3_u679C\" class=\"headerlink\" title=\"结果\"></a>结果</h2><p>修改buffer大小就可以啦．</p>\n<h2 id=\"Done\"><a href=\"#Done\" class=\"headerlink\" title=\"Done\"></a>Done</h2>"}