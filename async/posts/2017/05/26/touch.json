{"tags":[{"name":"学习","permalink":"http://catlittlechen.com/tags/学习/","url":"/async/tags/学习.json","count":12}],"categories":[{"name":"学习","permalink":"http://catlittlechen.com/categories/学习/","url":"/async/categories/学习.json","count":6}],"url":"/async/posts/2017/05/26/touch.json","date":1495783561000,"path":{"year":2017,"month":5,"day":26,"name":"touch"},"title":"touch","permalink":"http://catlittlechen.com/2017/05/26/touch/","content":"<h3 id=\"Touch\"><a href=\"#Touch\" class=\"headerlink\" title=\"Touch\"></a>Touch</h3><p>touch这个命令,对于一个技术而言,应该是十分熟悉的.<br>像uwsgi这种就可以使用监听一个文件的方式来触发服务更新的部署方式,我们这时候就会用到<code>touch reload</code>的命令来完成.<br>更重要的是,我习惯性地打<code>ls -al</code>的命令来查看文件的最后修改时间,来查看是否有小朋友乱动了线上的文件.</p>\n<p>直到有一天……..<br>有同事告诉我,touch有个神奇的功能.<br>于是乎,我<code>touch --help</code>下</p>\n<pre><code>-a            只更改访问时间\n-c, --no-create 不创建任何文件\n-d, --date=字符串 使用指定字符串表示时间而非当前时间\n-f          (忽略)\n-h, --no-dereference      会影响符号链接本身，而非符号链接所指示的目的地\n    (当系统支持更改符号链接的所有者时，此选项才有用)\n-m            只更改修改时间\n-r, --reference=FILE   use this file&apos;s times instead of current time\n-t STAMP               use [[CC]YY]MMDDhhmm[.ss] instead of current time\n--time=WORD        change the specified time:\n    WORD is access, atime, or use: equivalent to -a\n    WORD is modify or mtime: equivalent to -m\n--help      显示此帮助信息并退出\n--version     显示版本信息并退出\n</code></pre><h3 id=\"u60CA_21\"><a href=\"#u60CA_21\" class=\"headerlink\" title=\"惊!\"></a>惊!</h3><p>touch是可以指定最后修改时间的!也就是说,<code>touch --date=&quot;2017-05-25 12:00:00&quot; reload&quot;</code>,这个命令可以将reload的最后修改时间改回去!<br>人与人之间最基本的信任呢.</p>\n<h3 id=\"Stat\"><a href=\"#Stat\" class=\"headerlink\" title=\"Stat\"></a>Stat</h3><p>放心,<code>stat reload</code>这个命令还是可以看出问题来的.</p>\n<pre><code>文件：&quot;reload&quot;\n大小：0             块：0          IO 块：4096   普通空文件\n    设备：808h/2056d    Inode：25039211    硬链接：1\n权限：(0664/-rw-rw-r--)  Uid：( 1000/ catchen)   Gid：( 1000/ catchen)\n    最近访问：2017-05-25 12:00:00.000000000 +0800\n    最近更改：2017-05-25 12:00:00.000000000 +0800\n    最近改动：2017-05-26 15:38:02.693909554 +0800\n    创建时间：-\n</code></pre><h3 id=\"u540E_u8BB0\"><a href=\"#u540E_u8BB0\" class=\"headerlink\" title=\"后记\"></a>后记</h3><p>这感觉,就像ls无法告诉我真实大小一样,现在连最后修改时间都不行了.</p>\n"}